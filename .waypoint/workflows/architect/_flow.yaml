# Architecture Workflow
#
# This file defines the step sequence for the architect phase.
# Each step builds on the previous, with checkpoints for validation.
#
# To execute: /waypoint.architect <feature-name>
# To resume: /waypoint.architect --resume <feature-name>
#

workflow:
  id: architect
  name: Architecture
  description: Create technical design for a specification
  agent: architect
entryConditions:
  - Approved specification from /waypoint.specify
finalOutputs:
  - .waypoint/plans/{feature}.md
steps:
  - sequence: 1
    id: review-spec
    name: Review Specification
    file: ./review-spec.md
    checkpoint: Do I understand what needs to be built from an architecture perspective?
  - sequence: 2
    id: design-components
    name: Design Components
    file: ./design-components.md
    checkpoint: Do the components follow our architecture pattern? Clear boundaries?
  - sequence: 3
    id: define-data-models
    name: Define Data Models
    file: ./define-data-models.md
    checkpoint: Are the data models normalized? Do they support all use cases?
  - sequence: 4
    id: define-apis
    name: Define API Contracts
    file: ./define-apis.md
    checkpoint: Do these APIs support all user scenarios? Clear contracts?
  - sequence: 5
    id: finalize-plan
    name: Finalize Technical Plan
    file: ./finalize-plan.md
    checkpoint: Is the plan complete enough for task breakdown? Any gaps?
